---
layout: post
title:  "[인스타클론코딩] [FrontEnd].8 - 백엔드 복습"
date:   2019-07-06-22:57:00
author: 한만섭
categories: clonecoding
tags: react instagram Header
---

오타 정리 
computed로 빼는거
fragment안쓰기 
백엔드 리마인드
```
import { prisma } from '../../../generated/prisma-client';

export default {
    Post: {
        isLiked: async (parent, __, { request }) => {
            const { id: parentId } = parent;
            const { user } = request;

            return await prisma.$exists.post({
                AND: [
                    {
                        id: parentId
                    },
                    {
                        Likes_some: {
                            id: user.id
                        }
                    }
                ]
            });
        },
        likeCount: async (parent, _, __) =>
            await prisma
                .likesConnection({ where: { post: { id: parent.id } } })
                .aggregate()
                .count(),
        files: parent => prisma.post({ id: parent.id }).files(),
        comments: parent => prisma.post({ id: parent.id }).comments(),
        user: parent => prisma.post({ id: parent.id }).user(),
        Likes: parent => prisma.post({ id: parent.id }).Likes()
    }
};

```
