---
layout: post
title:  "[인스타클론코딩] [Server].3 - prisma "
date:   2019-06-22-17:54:00
author: 한만섭
categories: clonecoding
tags: graphql prisma 
---

> ## 프리즈마(prisma)란?

  prisma는 ORM(Object-relational-mapping) 즉, 객체 관계 연결이라고 합니다. **프리즈마가 필요한 이유는 데이터베이스에서의 오류들을 해결**해줍니다. 
  prisma는 어플리케이션에 필요한 모델을 graphql로 정의할 수 있습니다. 
  
　  
   
 ***
 
　  
  
> ### 프리즈마 설치 

  ```
  npm install -g prisma
  prisma login
  ```
  설치를 하고 로그인을 하면 아래와 같은 창이 뜹니다.  
  ![image](https://user-images.githubusercontent.com/46010705/59961858-e24d9600-9518-11e9-9b22-f322677bd49d.png)


  ```
  prisma init
  ```
  
  ```
  prisma deploy
  ```
  
  여기서 애를 먹었는데,,, prisma에서 workspace가 숫자로 시작하는 바람에 아래와 같은 에러가 발생했습니다. 
  ```
  ERROR: 13akstjq-9843d2~prismagram is not a valid name for a service name. It must start with a letter and may contain up to 30      letters, numbers, underscores and hyphens.
  ```
  
  위의 에러를 해결하기 위해서는 숫자로 시작하지 않는 workspace를 새로 만들어줍니다. 그 다음에 기존에 **prisma init**으로 생성되었던 파일들을 
  삭제 해줍니다.  
  ![image](https://user-images.githubusercontent.com/46010705/59962433-57709980-9520-11e9-8a99-4112b6aa58fa.png)
  
  
  그런 다음 다시 prisma를 설치해줍니다.  
  ```
  prisma init
  ```
  
  ```
  prisma deploy
  ```
  
  이제 처음에 제공하는 User model 에 속성을 추가해보려고 합니다. 아래 데이터를 추가해줍니다.  
  
  * datamodel.prisma
  ```
  type User {
  id: ID! @id
  name: String!
  lastName : String!
  }
  ```
  데이터를 추가했다면 prisma를 다시 배포해주면 적용이 됩니다.  
  
  ```
  prisma deploy
  ```
  ![image](https://user-images.githubusercontent.com/46010705/59962465-9868ae00-9520-11e9-83de-bb0a0df1c64f.png)
  위와 같이 모델에 추가된 것을 확인할 수 있습니다. 
  
